"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Resolver {
    constructor(...args) {
        this.updater = [];
        this.set(this.getArgs(args));
    }
    getArgs(arg) {
        return Array.prototype.slice.call(arg, 0);
    }
    set(updaters) {
        this.updater = updaters;
    }
    setUpdaters(...args) {
        this.set(this.getArgs(args));
    }
    addUpdater(updater) {
        this.updater.push(updater);
    }
    resolve(type) {
        if (this.updater.length < 1)
            throw new Error('Unasigned resolve target.');
        const target = this.updater.filter(updater => updater.supports(type));
        if (target.length < 1)
            throw new Error(`Unsupported type: ${type}`);
        return target[0];
    }
}
exports.default = Resolver;
